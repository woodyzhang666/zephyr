/dts-v1/;

#include <wch/ch57x/ch573.dtsi>
#include <zephyr/dt-bindings/gpio/gpio.h>

/ {
	model = "ch573 evaluation board";
	compatible = "wch,ch573";

	chosen {
		zephyr,sram = &sram0;
		zephyr,flash = &flash0;
		zephyr,console = &uart1;
		zephyr,shell-uart = &uart1;
	};

	leds {
		compatible = "gpio-leds";

		conn_led: conn_led {
			gpios = <&gpio1 7 GPIO_ACTIVE_LOW>;
			label = "CONN_LED";
		};
		run_led: run_len {
			gpios = <&gpio1 12 GPIO_ACTIVE_LOW>;
			label = "RUN_LED";
		};

		nreset: nreset {
			gpios = <&gpio1 13 (GPIO_OPEN_DRAIN | GPIO_PULL_UP | GPIO_ACTIVE_LOW)>;
			label = "nRESET";
		};

		swclk_tck: swclk_tck {
			gpios = <&gpio0 12 (GPIO_PUSH_PULL)>;
			label = "SWCLK_TCK";
		};

		swdio_tms_in: swdio_tms_in {
			gpios = <&gpio0 13 0>;
			label = "SWDIO_TMS_IN";
		};

		swdio_tms_out: swdio_tms_out {
			gpios = <&gpio0 14 (GPIO_PULL_UP)>;
			label = "SWDIO_TMS_OUT";
		};

		tdi: tdi {
			gpios = <&gpio0 15 (GPIO_PULL_UP)>;
			label = "TDI";
		};

		tdo: tdo {
			gpios = <&gpio0 5 (GPIO_PULL_UP)>;
			label = "TDO";
		};

		pwr_sw: pwr_sw {
			gpios = <&gpio1 4 (GPIO_PULL_UP | GPIO_ACTIVE_LOW)>;
			label = "Target Power Switch";
		};
	};

	aliases {
	};

};

&clk_lsi {
	status = "okay";
};

&clk_lse {
	status = "okay";
};

&clk_hse {
	clock-frequency = <DT_FREQ_M(32)>;
	status = "okay";
};

&clk_pll {
	status = "okay";
};

&rcc {
	clocks = <&clk_pll>;
	clock-frequency = <DT_FREQ_M(60)>;
	status = "okay";
};

&uart1 {
	current-speed = <2500000>;
	status = "okay";
};

zephyr_udc0: &usbhd0 {
	status = "okay";
};
